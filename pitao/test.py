import unittest
from timeit         import default_timer as timer
from mapHandler     import *
from graph          import *
from tsp            import *

def f(w):
    g = generateCompleteGraph(mapMagic, w)
    path, cost = simmulatedAnnealing(g, mapMagic, w)

def fPicker( fname=None):
    if fname is None:
        fname = QtGui.QFileDialog.getOpenFileName( 'Select file')

    if fname:
        mapPath = fname
        print("Opening: " + mapPath)
        mapMagic.apply_file(mapPath)
    else:
        pass

mapPath = None
mapMagic = mapHandler()
fPicker(fname = 'map_america.osm')

w = [ {(9.641678235077306, (419.5270257875136, 457.00553451792894), True, 2823727195), (15.536498288737272, (288.3098498348375, 446.7665661583275), True, 1111756689), (12.15990407607188, (356.34723714555884, 319.76545216933044), True, 1111759348), (2.8833139426548797, (249.20514702016646, 398.3806260382122), True, 1111759313), (11.743313462774498, (296.30111641062905, 351.97944434383624), True, 3665358344)} , {(3.949734710664231, (214.72033059899815, 416.9398209744567), True, 1111756181), (9.974246679360732, (277.2117871743169, 338.80380015900784), True, 1327889638), (7.8434398248609805, (112.83684941558057, 389.3746782028103), True, 1111759317), (5.751674801922341, (109.18848275586052, 302.98231788442365), True, 1342813538)} , {(7.8434398248609805, (112.83684941558057, 389.3746782028103), True, 1111759317), (5.751674801922341, (109.18848275586052, 302.98231788442365), True, 1342813538), (9.974246679360732, (277.2117871743169, 338.80380015900784), True, 1327889638), (3.949734710664231, (214.72033059899815, 416.9398209744567), True, 1111756181), (11.998494171244268, (386.58630562398986, 346.1572023524071), True, 2784679505), (7.248098686568821, (414.54540332297006, 430.6457278717428), True, 2823727179), (12.78526123240606, (292.16492282080367, 401.21295297631406), True, 1111756518), (15.469940506428205, (316.3288923685656, 448.7598428606718), True, 1111756318)} , {(0.36349610041562647, (219.96240303467354, 232.3615465159777), True, 1327889586), (19.711791298245316, (321.4200691860212, 424.2761866147973), True, 2823727171), (6.074308808173419, (238.03680420875446, 349.8434865100983), True, 1327889528), (19.560139431826165, (347.4795357460314, 207.4413285992414), True, 1111756292), (16.745600379129787, (404.32377548603847, 326.66312656965795), True, 1111759329), (11.615241467516947, (334.37435465691635, 284.64672770648815), True, 1302446610)} , {(8.709068633178168, (361.60171196081194, 97.48315632850176), True, 1327889509), (4.570108696553889, (277.44123119657786, 51.678253989515724), True, 1327889572), (2.6146378740491816, (219.96240303467354, 232.3615465159777), True, 1327889586), (14.043348354560832, (326.94532928869637, 167.3436715188787), True, 1327889543)} ] 

for i in w:
    start = timer()
    f(i)
    end = timer()
    print(end - start)
